(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-flow-flowitem-overflow-signature-signature"],{"02f9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"UniTitle",props:{type:{type:String,default:""},title:{type:String,default:""},subTitle:{type:String,default:""}},data:function(){return{}},watch:{title:function(e){uni.report&&""!==e&&uni.report("title",e)}},methods:{onClick:function(){this.$emit("click")}}};t.default=i},"1a7b":function(e,t,n){function i(e){var t=new Date,n=t.getFullYear(),i=t.getMonth()+1,a=t.getDate();return"start"===e?n-=60:"end"===e&&(n+=2),i=i>9?i:"0"+i,a=a>9?a:"0"+a,"".concat(n,"-").concat(i,"-").concat(a)}function a(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return n=n>9?n:"0"+n,i=i>9?i:"0"+i,"".concat(t,"-").concat(n,"-").concat(i)}function o(e){var t=new Date,n=t.getFullYear(),i=t.getMonth()+1;return"start"===e?n-=60:"end"===e&&(n+=2),i=i>9?i:"0"+i,"".concat(n,"-").concat(i)}function r(e){var t=new Date,n=t.getFullYear(),i=t.getMonth()+1;return"start"===e?n-=60:"end"===e&&(n+=2),i=i>9?i:"0"+i,"".concat(n,"-").concat(i)}function s(){var e=new Date;e.setDate(e.getDate()-7);var t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return n=n>9?n:"0"+n,i=i>9?i:"0"+i,"".concat(t,"-").concat(n,"-").concat(i)}function c(){var e=new Date;e.setDate(e.getDate()+7);var t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return n=n>9?n:"0"+n,i=i>9?i:"0"+i,"".concat(t,"-").concat(n,"-").concat(i)}function l(e){e.setMonth(e.getMonth());var t=e.getFullYear(),n=e.getMonth()+1;return n=n>9?n:"0"+n,"".concat(t,"-").concat(n)}function u(e){e.setFullYear(e.getFullYear());var t=e.getFullYear()+1,n=e.getMonth()+1;return n=n>9?n:"0"+n,"".concat(t)}function d(e){e.setMonth(e.getMonth()+2);var t=e.getFullYear(),n=e.getMonth()+1;return n=n>9?n:"0"+n,"".concat(t,"-").concat(n)}function f(e){e.setMonth(e.getMonth()+2);var t=e.getFullYear()+1,n=e.getMonth()+1;return n=n>9?n:"0"+n,"".concat(t)}function p(e,t){t||(t="-");var n,i=e.split(t),a=parseInt(i[0]);n=0==i[1].indexOf("0")?parseInt(i[1].substring(1)):parseInt(i[1]);var o=0;i.length>2&&parseInt(i[2]);var r=new Date(a,n-1,o);return r}n("99af"),n("c975"),n("e25e"),n("ac1f"),n("1276"),e.exports={getDate:i,getDay:a,getMonth:o,getYear:r,getLastWeekDate:s,getNextWeekDate:c,getLastMonth:l,getLastYear:u,getNextMonth:d,getNextYear:f,stringToDate:p}},"213a":function(e,t,n){"use strict";var i=n("ee27");n("4de4"),n("c975"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("db11")),o=i(n("e6e1")),r=i(n("afac")),s="",c="",l="",u=n("1a7b"),d=n("8a5b"),f=n("60aa"),p=n("586b"),b={components:{uniSection:a.default,uniPopup:o.default,uniIcons:r.default},data:function(){return{index:0,type:"",department:"",date:u.getDay(),prove:"",jb:"",Scontent:"",flowAssignId:"",ecard:"",userCode:"",driver:"",flowLine:[],personLine:[],selectperson:[],visition:!1}},onLoad:function(){this.setData()},methods:{bindDateChange:function(e){this.date=e.target.value},setData:function(e){this.person=uni.getStorageSync("userName"),this.department=uni.getStorageSync("depName")},bindPersonChange:function(e){uni.navigateTo({url:"../../../../constant/personnel/personnel"})},getFlowLine:function(e){if(this.prove&&this.jb&&this.Scontent){var t=this;d.sendGetRequestJson({url:f.upflowline,data:{defId:p.signatureDefId},successCallBack:function(e){console.log(e),t.flowLine=[];for(var n=0;n<e.data.length;n++)t.flowLine.push(e.data[n].destination);1==t.flowLine.length?(s=t.flowLine[0],t.getFlowPerson()):uni.showActionSheet({itemList:t.flowLine,success:function(e){s=t.flowLine[e.tapIndex],t.getFlowPerson()},fail:function(e){print(e.errMsg)}})},failCallBack:function(e){print(e)}})}else uni.showToast({title:"*号为必填内容",icon:"none",duration:800,position:"bottom"})},getFlowPerson:function(e){var t=this;d.sendGetRequestJson({url:f.upflowperson,data:{defId:p.signatureDefId,activityName:s},successCallBack:function(e){t.personLine=[];for(var n=0;n<e.data.length;n++)t.personLine.push(e.data[n]);1==t.personLine.length&&t.togglePopup("center","tip")},failCallBack:function(e){print(e)}})},togglePopup:function(e,t){var n=this;switch(e){case"top":this.content="顶部弹出 popup";break;case"bottom":this.content="底部弹出 popup";break;case"center":this.content="居中弹出 popup";break}this.type=e,this.$nextTick((function(){n.$refs["show"+t].open()}))},cancel:function(e){this.$refs["show"+e].close()},change:function(e){console.log("是否打开:"+e.show),0==this.selectperson.length?(print("请选择审批人"),console.log("请选择审批人:")):this.UpData()},listClient:function(e,t){0==this.selectperson.length?this.selectperson.push(e):-1!=this.selectperson.indexOf(e)?this.selectperson=this.selectperson.filter((function(t){return t!=e})):this.selectperson.push(e),console.log(this.selectperson)},UpData:function(e){if(1==this.selectperson.length&&(c=this.selectperson[0].userCodes,this.flowAssignId=this.selectperson[0].role+"|"+this.selectperson[0].userCodes),this.selectperson.length>1){for(var t=1;t<this.selectperson.length;t++)t<this.selectperson.length-1?c=c+this.selectperson[t].userCodes+":":c+=this.selectperson[t].userCodes;for(t=1;t<this.selectperson.length;t++)t<this.selectperson.length-1?l=l+this.selectperson[t].role+":":l+=this.selectperson[t].role;c=this.selectperson[0].userCodes+":"+c,l=this.selectperson[0].role+":"+l,this.flowAssignId=l+"|"+c}console.log(c),d.sendPostRequestJson({url:f.upflowdata,data:{useTemplate:!1,startFlow:!0,destName:s,sendMsg:!0,sendMail:!0,flowAssignId:this.flowAssignId,defId:p.signatureDefId,formDefId:p.signatureFormDefId,bumenDid:uni.getStorageSync("depId"),bumen:uni.getStorageSync("depName"),sj:this.date,neirong:this.Scontent,zm:this.prove,jb:this.jb,bmfzryj:"",fgldyj:"",cwzjyj:""},successCallBack:function(e){console.log(e),e.success&&uni.navigateBack({delta:1})},failCallBack:function(e){print(e),console.log(e)}})}}};t.default=b},"5c96":function(e,t,n){var i=n("b342");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("4b6914ec",i,!0,{sourceMap:!1,shadowMode:!1})},"61b1":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'.uni-section[data-v-202c18ed]{position:relative;\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\nmargin-top:10px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 10px;height:50px;background-color:#f8f8f8;\n\nfont-weight:400}\n.uni-section[data-v-202c18ed]:after{position:absolute;bottom:0;right:0;left:0;height:1px;content:"";-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#e5e5e5}\n.uni-section__head[data-v-202c18ed]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-right:10px}.line[data-v-202c18ed]{height:15px;background-color:silver;border-radius:5px;width:3px}.circle[data-v-202c18ed]{width:8px;height:8px;border-top-right-radius:50px;border-top-left-radius:50px;border-bottom-left-radius:50px;border-bottom-right-radius:50px;background-color:silver}.uni-section__content[data-v-202c18ed]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#333}.uni-section__content-title[data-v-202c18ed]{font-size:%?34?%;color:#333}.distraction[data-v-202c18ed]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-section__content-sub[data-v-202c18ed]{font-size:%?24?%;color:#999}',""]),e.exports=t},"6d40":function(e,t,n){"use strict";var i=n("e8e6"),a=n.n(i);a.a},"6fc3":function(e,t,n){"use strict";var i,a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"uni-section"},[e.type?n("v-uni-view",{staticClass:"uni-section__head"},[n("v-uni-view",{staticClass:"uni-section__head-tag",class:e.type})],1):e._e(),n("v-uni-view",{staticClass:"uni-section__content"},[n("v-uni-text",{staticClass:"uni-section__content-title",class:{distraction:!e.subTitle}},[e._v(e._s(e.title))]),e.subTitle?n("v-uni-text",{staticClass:"uni-section__content-sub"},[e._v(e._s(e.subTitle))]):e._e()],1),e._t("default")],2)},o=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}))},a8a2:function(e,t,n){"use strict";n.r(t);var i=n("f375"),a=n("bdb4");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("a954");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"f8ee11c4",null,!1,i["a"],r);t["default"]=c.exports},a954:function(e,t,n){"use strict";var i=n("5c96"),a=n.n(i);a.a},b342:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,"uni-page-body[data-v-f8ee11c4]{min-height:100%;height:auto}.item[data-v-f8ee11c4]{display:-webkit-box;display:-webkit-flex;display:flex;width:100%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:#fff;min-height:%?100?%}.hourLine[data-v-f8ee11c4]{height:%?1?%;width:100%;background-color:grey;margin-left:%?10?%;margin-right:%?10?%}.itemName[data-v-f8ee11c4]{height:%?100?%;width:%?180?%;display:-webkit-box;display:-webkit-flex;display:flex;line-height:auto;margin-left:%?10?%;font-size:%?30?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;line-height:%?150?%}.itemNamearea[data-v-f8ee11c4]{height:%?150?%;width:%?180?%;display:-webkit-box;display:-webkit-flex;display:flex;line-height:auto;margin-left:%?10?%;font-size:%?30?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;line-height:%?150?%}.inputarea[data-v-f8ee11c4]{display:block;width:auto;height:-webkit-max-content;height:max-content;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;auto-height:true}.itemValue[data-v-f8ee11c4]{-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;position:relative}.input[data-v-f8ee11c4]{min-height:%?100?%;font-size:%?30?%;display:inline-block;text-align:left;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap;flex-wrap:wrap}.t-header[data-v-f8ee11c4]{height:%?120?%;border-bottom:grey %?0.5?% solid;border-right:grey %?0.5?% solid;border-top:grey %?0.5?% solid;background-color:#fff;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;text-align:center;line-height:%?120?%;font-size:%?30?%}.btn[data-v-f8ee11c4]{margin:%?50?%;background-color:#007aff;color:#fff}\r\n\r\n/* 提示窗口 */.uni-tip[data-v-f8ee11c4]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\r\npadding:15px;width:300px;background-color:#fff;border-radius:10px}.uni-tip-title[data-v-f8ee11c4]{margin-bottom:10px;text-align:center;font-weight:700;font-size:16px;color:#333}.uni-tip-content[data-v-f8ee11c4]{\r\n\t/* padding: 15px;\r\n  */font-size:14px;color:#666}.uni-tip-group-button[data-v-f8ee11c4]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;margin-top:20px}.uni-tip-button[data-v-f8ee11c4]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;font-size:14px;color:#3b4144}\r\n\r\n/* 插屏广告 */.uni-image[data-v-f8ee11c4]{position:relative}.image[data-v-f8ee11c4]{width:200px;height:200px}.uni-image-close[data-v-f8ee11c4]{margin-top:20px;text-align:center}\r\n\r\n/* 底部分享 */.uni-share[data-v-f8ee11c4]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\r\nbackground-color:#fff}.uni-share-title[data-v-f8ee11c4]{line-height:%?60?%;font-size:%?24?%;padding:%?15?% 0;text-align:center}.uni-share-content[data-v-f8ee11c4]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:15px}.uni-share-content-box[data-v-f8ee11c4]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?200?%}.uni-share-content-image[data-v-f8ee11c4]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?60?%;height:%?60?%;overflow:hidden;border-radius:%?10?%}.content-image[data-v-f8ee11c4]{width:%?60?%;height:%?60?%}.uni-share-content-text[data-v-f8ee11c4]{font-size:%?26?%;color:#333;padding-top:5px;padding-bottom:10px}.uni-share-btn[data-v-f8ee11c4]{height:%?90?%;line-height:%?90?%;font-size:14px;border-top-color:#f5f5f5;border-top-width:1px;border-top-style:solid;text-align:center;color:#666}",""]),e.exports=t},bdb4:function(e,t,n){"use strict";n.r(t);var i=n("213a"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=a.a},caa0:function(e,t,n){"use strict";n.r(t);var i=n("02f9"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=a.a},db11:function(e,t,n){"use strict";n.r(t);var i=n("6fc3"),a=n("caa0");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("6d40");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"202c18ed",null,!1,i["a"],r);t["default"]=c.exports},e8e6:function(e,t,n){var i=n("61b1");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("49d84534",i,!0,{sourceMap:!1,shadowMode:!1})},f375:function(e,t,n){"use strict";var i={"uni-popup":n("e6e1").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"item"},[n("v-uni-text",{staticClass:"itemName"},[e._v("申请部门:")]),n("v-uni-input",{staticClass:"input",attrs:{placeholder:"请选择申请部门",type:"text"},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}})],1),n("v-uni-view",{staticClass:"hourLine"}),n("v-uni-view",{staticClass:"item"},[n("v-uni-text",{staticClass:"itemName"},[e._v("申请时间:")]),n("v-uni-picker",{staticClass:"itemValue",attrs:{mode:"date"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindDateChange.apply(void 0,arguments)}}},[n("v-uni-input",{staticClass:"input",attrs:{placeholder:"请选择申请时间",type:"text"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),n("v-uni-view",{staticClass:"hourLine"}),n("v-uni-view",{staticClass:"item"},[n("v-uni-text",{staticClass:"itemName"},[e._v("证明*:")]),n("v-uni-input",{staticClass:"input",attrs:{placeholder:"请输入证明",type:"text"},model:{value:e.prove,callback:function(t){e.prove=t},expression:"prove"}})],1),n("v-uni-view",{staticClass:"hourLine"}),n("v-uni-view",{staticClass:"item"},[n("v-uni-text",{staticClass:"itemName"},[e._v("经办*:")]),n("v-uni-input",{staticClass:"input",attrs:{placeholder:"请选输入经办",type:"text"},model:{value:e.jb,callback:function(t){e.jb=t},expression:"jb"}})],1),n("v-uni-view",{staticClass:"hourLine"}),n("v-uni-view",{staticClass:"item"},[n("v-uni-text",{staticClass:"itemNamearea",staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[e._v("内容*:")]),n("v-uni-textarea",{staticClass:"inputarea",attrs:{"auto-height":!0,placeholder:"请输入内容",type:"text"},model:{value:e.Scontent,callback:function(t){e.Scontent=t},expression:"Scontent "}})],1),n("v-uni-view",{staticClass:"hourLine"}),n("uni-popup",{ref:"showtip",attrs:{type:e.type,"mask-click":!1},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.change.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"uni-tip"},[e._l(e.personLine,(function(t,i){return n("v-uni-view",{key:i},[n("v-uni-view",{staticClass:"list-item",attrs:{showArrow:!1},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.listClient(t,i)}}},[n("v-uni-label",[n("v-uni-checkbox",{attrs:{value:t.userNames}}),n("v-uni-text",[e._v(e._s(t.userNames))])],1)],1)],1)})),n("v-uni-view",{staticClass:"uni-tip-group-button"},[n("v-uni-text",{staticClass:"uni-tip-button",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancel("tip")}}},[e._v("取消")]),n("v-uni-text",{staticClass:"uni-tip-button",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancel("tip")}}},[e._v("确定")])],1)],2)],1),n("v-uni-button",{staticClass:"btn",attrs:{type:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getFlowLine.apply(void 0,arguments)}}},[e._v(e._s("提交"))])],1)},o=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}))}}]);