(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-flow-flowitem-overflow-contractSigning-contractSigning"],{"3af4":function(t,e,i){"use strict";i.r(e);var n=i("3d58"),a=i("8502");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("d6b2");var s,r=i("f0c5"),l=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"f3bdc004",null,!1,n["a"],s);e["default"]=l.exports},"3d58":function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-section"},[t.type?i("v-uni-view",{staticClass:"uni-section__head"},[i("v-uni-view",{staticClass:"uni-section__head-tag",class:t.type})],1):t._e(),i("v-uni-view",{staticClass:"uni-section__content"},[i("v-uni-text",{staticClass:"uni-section__content-title",class:{distraction:!t.subTitle}},[t._v(t._s(t.title))]),t.subTitle?i("v-uni-text",{staticClass:"uni-section__content-sub"},[t._v(t._s(t.subTitle))]):t._e()],1),t._t("default")],2)},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},4984:function(t,e,i){"use strict";var n={"uni-popup":i("6eb2").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticStyle:{"background-color":"#EFEFF4"}},[i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"itemName"},[t._v("申请人:")]),i("v-uni-input",{staticClass:"input",attrs:{placeholder:"请选择申请人",type:"button"},model:{value:t.person,callback:function(e){t.person=e},expression:"person"}})],1),i("v-uni-view",{staticClass:"hourLine"}),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"itemName"},[t._v("申请部门:")]),i("v-uni-input",{staticClass:"input",attrs:{placeholder:"请选择申请部门",type:"text"},model:{value:t.department,callback:function(e){t.department=e},expression:"department"}})],1),i("v-uni-view",{staticClass:"hourLine"}),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"itemName"},[t._v("申请时间:")]),i("v-uni-picker",{staticClass:"itemValue",attrs:{mode:"date"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindDateChange.apply(void 0,arguments)}}},[i("v-uni-input",{staticClass:"input",attrs:{placeholder:"请选择申请时间",type:"text"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),i("v-uni-view",{staticClass:"hourLine"}),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"itemName"},[t._v("合同名称*:")]),i("v-uni-input",{staticClass:"input",attrs:{placeholder:"请输入合同名称",type:"idcard"},model:{value:t.contractName,callback:function(e){t.contractName=e},expression:"contractName"}})],1),i("v-uni-view",{staticClass:"hourLine"}),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"itemName"},[t._v("选定方式*:")]),i("v-uni-input",{staticClass:"input",attrs:{placeholder:"请选择选定方式",type:"text"},model:{value:t.found,callback:function(e){t.found=e},expression:"found"}})],1),i("v-uni-view",{staticClass:"hourLine"}),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"itemName"},[t._v("合同类别*:")]),i("v-uni-input",{staticClass:"input",attrs:{placeholder:"请输入合同类别",type:"text"},model:{value:t.contraType,callback:function(e){t.contraType=e},expression:"contraType"}})],1),i("v-uni-view",{staticClass:"hourLine"}),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"itemNamearea",staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[t._v("用章单位*:")]),i("v-uni-textarea",{staticClass:"inputarea",attrs:{"auto-height":!0,placeholder:"请输入合同用章单位",type:"text"},model:{value:t.yzDepartment,callback:function(e){t.yzDepartment=e},expression:"yzDepartment"}})],1),i("v-uni-view",{staticClass:"hourLine"}),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"itemNamearea",staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[t._v("合同金额*:")]),i("v-uni-textarea",{staticClass:"inputarea",attrs:{"auto-height":!0,placeholder:"请输入合同金额(大写)",type:"text"},model:{value:t.money,callback:function(e){t.money=e},expression:"money"}})],1),i("v-uni-view",{staticClass:"hourLine"}),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"itemNamearea",staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[t._v("合同内容*:")]),i("v-uni-textarea",{staticClass:"inputarea",attrs:{"auto-height":!0,placeholder:"请输入合同主要内容",type:"text"},model:{value:t.contraContent,callback:function(e){t.contraContent=e},expression:"contraContent"}})],1),i("v-uni-view",{staticClass:"hourLine"}),i("uni-popup",{ref:"showtip",attrs:{type:t.type,"mask-click":!1},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-tip"},[t._l(t.personLine,(function(e,n){return i("v-uni-view",{key:n},[i("v-uni-view",{staticClass:"list-item",attrs:{showArrow:!1},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.listClient(e,n)}}},[i("v-uni-label",[e.checked?i("v-uni-text",{staticClass:"text"},[t._v(t._s(e.userNames))]):i("v-uni-text",{staticClass:"text1"},[t._v(t._s(e.userNames))])],1)],1)],1)})),i("v-uni-view",{staticClass:"uni-tip-group-button"},[i("v-uni-text",{staticClass:"uni-tip-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel("tip")}}},[t._v("取消")]),i("v-uni-text",{staticClass:"uni-tip-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel("tip")}}},[t._v("确定")])],1)],2)],1),i("v-uni-button",{staticClass:"btn",attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getFlowLine.apply(void 0,arguments)}}},[t._v(t._s("提交"))])],1)},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},"4ae12":function(t,e,i){"use strict";var n=i("99a7"),a=i.n(n);a.a},"5a55":function(t,e,i){"use strict";i.r(e);var n=i("4984"),a=i("a3c2");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("4ae12");var s,r=i("f0c5"),l=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"69d0e1a0",null,!1,n["a"],s);e["default"]=l.exports},"7def":function(t,e,i){"use strict";var n=i("ee27");i("4de4"),i("c975"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("3af4")),o=n(i("6eb2")),s=n(i("be66")),r="",l="",c="",d=i("a426"),u=i("9d92"),f=i("8e21"),p=i("5041"),b={components:{uniSection:a.default,uniPopup:o.default,uniIcons:s.default},data:function(){return{index:0,type:"",person:"",department:"",date:d.getDay(),contractName:"",found:"",contraType:"",yzDepartment:"",money:"",contraContent:"",flowAssignId:"",flowLine:[],personLine:[],selectperson:[],visition:!1}},onLoad:function(){this.setData()},methods:{bindDateChange:function(t){this.date=t.target.value},setData:function(t){this.person=uni.getStorageSync("userName"),this.department=uni.getStorageSync("depName")},getFlowLine:function(t){if(this.person&&this.department&&this.contractName&&this.found&&this.contraType&&this.yzDepartment&&this.money&&this.contraContent){var e=this;u.sendGetRequestJson({url:f.upflowline,data:{defId:p.contractDigningDefId},successCallBack:function(t){console.log(t),e.flowLine=[];for(var i=0;i<t.data.length;i++)e.flowLine.push(t.data[i].destination);1==e.flowLine.length?(r=e.flowLine[0],e.getFlowPerson()):uni.showActionSheet({itemList:e.flowLine,success:function(t){r=e.flowLine[t.tapIndex],e.getFlowPerson()},fail:function(t){print(t.errMsg)}})},failCallBack:function(t){print(t)}})}else uni.showToast({title:"*号为必填内容",icon:"none",duration:800,position:"bottom"})},getFlowPerson:function(t){var e=this;u.sendGetRequestJson({url:f.upflowperson,data:{defId:p.contractDigningDefId,activityName:r},successCallBack:function(t){e.personLine=[];for(var i=0;i<t.data.length;i++)e.personLine.push(t.data[i]);1==e.personLine.length&&e.togglePopup("center","tip")},failCallBack:function(t){print(t)}})},togglePopup:function(t,e){var i=this;switch(t){case"top":this.content="顶部弹出 popup";break;case"bottom":this.content="底部弹出 popup";break;case"center":this.content="居中弹出 popup";break}this.type=t,this.$nextTick((function(){i.$refs["show"+e].open()}))},cancel:function(t){this.$refs["show"+t].close()},change:function(t){console.log("是否打开:"+t.show),0==this.selectperson.length?(print("请选择审批人"),console.log("请选择审批人:")):this.UpData()},listClient:function(t,e){0==this.selectperson.length?(t.checked=!0,this.selectperson.push(t)):-1!=this.selectperson.indexOf(t)?(t.checked=!1,this.selectperson.push(t),this.selectperson=this.selectperson.filter((function(e){return e!=t}))):(t.checked=!0,this.selectperson.push(t)),console.log(this.selectperson)},UpData:function(t){if(1==this.selectperson.length&&(l=this.selectperson[0].userCodes,this.flowAssignId=this.selectperson[0].role+"|"+this.selectperson[0].userCodes),this.selectperson.length>1){for(var e=1;e<this.selectperson.length;e++)e<this.selectperson.length-1?l=l+this.selectperson[e].userCodes+":":l+=this.selectperson[e].userCodes;for(e=1;e<this.selectperson.length;e++)e<this.selectperson.length-1?c=c+this.selectperson[e].role+":":c+=this.selectperson[e].role;l=this.selectperson[0].userCodes+":"+l,c=this.selectperson[0].role+":"+c,this.flowAssignId=c+"|"+l}console.log(l),u.sendPostRequestJson({url:f.upflowdata,data:{useTemplate:!1,startFlow:!0,destName:r,sendMsg:!0,sendMail:!0,flowAssignId:this.flowAssignId,defId:p.contractDigningDefId,formDefId:p.contractDigningFormDefId,sbbmDid:uni.getStorageSync("depId"),sbbm:uni.getStorageSync("depName"),sbbmfzrUId:uni.getStorageSync("userId"),sbbmfzr:this.person,sbrq:this.date,sshtmc:this.contractName,xdfs:this.found,htlb:this.contraType,htyzdw:this.yzDepartment,htje:this.money,hzzynr:this.contraContent,sqbmyj:"",fgldyj:"",cwsjbyj:"",zjlyj:"",dszyj:""},successCallBack:function(t){console.log(t),t.success&&uni.navigateBack({delta:1})},failCallBack:function(t){print(t),console.log(t)}})}}};e.default=b},8502:function(t,e,i){"use strict";i.r(e);var n=i("a922"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"93e8":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"uni-page-body[data-v-69d0e1a0]{min-height:100%;height:auto}.item[data-v-69d0e1a0]{display:-webkit-box;display:-webkit-flex;display:flex;width:100%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:#fff;min-height:%?100?%}.hourLine[data-v-69d0e1a0]{height:%?1?%;width:100%;background-color:grey;margin-left:%?10?%;margin-right:%?10?%}.itemName[data-v-69d0e1a0]{height:%?100?%;width:%?180?%;display:-webkit-box;display:-webkit-flex;display:flex;line-height:auto;margin-left:%?10?%;font-size:%?30?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;line-height:%?150?%}.itemNamearea[data-v-69d0e1a0]{height:%?150?%;width:%?180?%;display:-webkit-box;display:-webkit-flex;display:flex;line-height:auto;margin-left:%?10?%;font-size:%?30?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;line-height:%?150?%}.inputarea[data-v-69d0e1a0]{display:block;width:auto;height:-webkit-max-content;height:max-content;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;auto-height:true}.itemValue[data-v-69d0e1a0]{-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;position:relative}.input[data-v-69d0e1a0]{min-height:%?100?%;font-size:%?30?%;display:inline-block;text-align:left;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap;flex-wrap:wrap;margin-left:%?15?%}.t-header[data-v-69d0e1a0]{height:%?120?%;border-bottom:grey %?0.5?% solid;border-right:grey %?0.5?% solid;border-top:grey %?0.5?% solid;background-color:#fff;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;text-align:center;line-height:%?120?%;font-size:%?30?%}.text[data-v-69d0e1a0]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;height:%?65?%;color:#dc3545;-webkit-box-pack:left;-webkit-justify-content:left;justify-content:left;border-bottom:#000 solid %?1?%}.text1[data-v-69d0e1a0]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;height:%?65?%;-webkit-box-pack:left;-webkit-justify-content:left;justify-content:left;border-bottom:#000 solid %?1?%}.vText[data-v-69d0e1a0]{height:%?45?%;width:100%;background-color:#d0dee5}.btn[data-v-69d0e1a0]{margin:%?50?%;background-color:#007aff;color:#fff}\n\n/* 头条小程序组件内不能引入字体 */\nuni-page-body[data-v-69d0e1a0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#efeff4;min-height:100%;height:auto}uni-view[data-v-69d0e1a0]{font-size:14px;line-height:inherit}.example[data-v-69d0e1a0]{padding:0 15px 15px}.example-info[data-v-69d0e1a0]{padding:15px;color:#3b4144;background:#fff}.example-body[data-v-69d0e1a0]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:0;font-size:14px;background-color:#fff}\n.example[data-v-69d0e1a0]{padding:0 15px}.example-info[data-v-69d0e1a0]{\ndisplay:block;\npadding:15px;color:#3b4144;background-color:#fff;font-size:14px;line-height:20px}.example-info-text[data-v-69d0e1a0]{font-size:14px;line-height:20px;color:#3b4144}.example-body[data-v-69d0e1a0]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;padding:15px;background-color:#fff}.word-btn-white[data-v-69d0e1a0]{font-size:18px;color:#fff}.word-btn[data-v-69d0e1a0]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;border-radius:6px;height:48px;margin:15px;background-color:#007aff}.word-btn--hover[data-v-69d0e1a0]{background-color:#4ca2ff}.example-body[data-v-69d0e1a0]{\ndisplay:block;\npadding:5px 15px}.button[data-v-69d0e1a0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin:10px 0}.popup-content[data-v-69d0e1a0]{\ndisplay:block;\nbackground-color:#fff;padding:15px;font-size:14px}\n\n/* 提示窗口 */.uni-tip[data-v-69d0e1a0]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\npadding:15px;width:300px;background-color:#fff;border-radius:10px}.uni-tip-title[data-v-69d0e1a0]{margin-bottom:10px;text-align:center;font-weight:700;font-size:16px;color:#333}.uni-tip-content[data-v-69d0e1a0]{\n\t/* padding: 15px;\n  */font-size:14px;color:#666}.uni-tip-group-button[data-v-69d0e1a0]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;margin-top:20px}.uni-tip-button[data-v-69d0e1a0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;font-size:14px;color:#3b4144}\n\n/* 插屏广告 */.uni-image[data-v-69d0e1a0]{position:relative}.image[data-v-69d0e1a0]{width:200px;height:200px}.uni-image-close[data-v-69d0e1a0]{margin-top:20px;text-align:center}\n\n/* 底部分享 */.uni-share[data-v-69d0e1a0]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\nbackground-color:#fff}.uni-share-title[data-v-69d0e1a0]{line-height:%?60?%;font-size:%?24?%;padding:%?15?% 0;text-align:center}.uni-share-content[data-v-69d0e1a0]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:15px}.uni-share-content-box[data-v-69d0e1a0]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?200?%}.uni-share-content-image[data-v-69d0e1a0]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?60?%;height:%?60?%;overflow:hidden;border-radius:%?10?%}.content-image[data-v-69d0e1a0]{width:%?60?%;height:%?60?%}.uni-share-content-text[data-v-69d0e1a0]{font-size:%?26?%;color:#333;padding-top:5px;padding-bottom:10px}.uni-share-btn[data-v-69d0e1a0]{height:%?90?%;line-height:%?90?%;font-size:14px;border-top-color:#f5f5f5;border-top-width:1px;border-top-style:solid;text-align:center;color:#666}body.?%PAGE?%[data-v-69d0e1a0]{background-color:#efeff4}",""]),t.exports=e},"99a7":function(t,e,i){var n=i("93e8");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("11d043a2",n,!0,{sourceMap:!1,shadowMode:!1})},a3c2:function(t,e,i){"use strict";i.r(e);var n=i("7def"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},a922:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniTitle",props:{type:{type:String,default:""},title:{type:String,default:""},subTitle:{type:String,default:""}},data:function(){return{}},watch:{title:function(t){uni.report&&""!==t&&uni.report("title",t)}},methods:{onClick:function(){this.$emit("click")}}};e.default=n},d6b2:function(t,e,i){"use strict";var n=i("f464"),a=i.n(n);a.a},f3a5:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'.uni-section[data-v-f3bdc004]{position:relative;\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\nmargin-top:10px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 10px;height:50px;background-color:#f8f8f8;\n\nfont-weight:400}\n.uni-section[data-v-f3bdc004]:after{position:absolute;bottom:0;right:0;left:0;height:1px;content:"";-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#e5e5e5}\n.uni-section__head[data-v-f3bdc004]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-right:10px}.line[data-v-f3bdc004]{height:15px;background-color:silver;border-radius:5px;width:3px}.circle[data-v-f3bdc004]{width:8px;height:8px;border-top-right-radius:50px;border-top-left-radius:50px;border-bottom-left-radius:50px;border-bottom-right-radius:50px;background-color:silver}.uni-section__content[data-v-f3bdc004]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#333}.uni-section__content-title[data-v-f3bdc004]{font-size:%?34?%;color:#333}.distraction[data-v-f3bdc004]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-section__content-sub[data-v-f3bdc004]{font-size:%?24?%;color:#999}',""]),t.exports=e},f464:function(t,e,i){var n=i("f3a5");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("5f84de44",n,!0,{sourceMap:!1,shadowMode:!1})}}]);